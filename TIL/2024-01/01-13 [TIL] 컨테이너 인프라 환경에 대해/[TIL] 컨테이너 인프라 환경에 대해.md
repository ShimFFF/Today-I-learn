# [TIL] 컨테이너 인프라 환경에 대해



##  😃 잡담
일단 종강을 했으니, 이제는 플젝과 스터디에 집중해야겠다.<br>
인프라에 관한 지식이 부족하다고 생각해서, 인프라 스터디를 함과 동시에 도커, 쿠버네티스에 대한 책도 샀는데,<br>
오늘 간단하게 컨테이너 인프라 환경에 대해 정리를 하겠다. (워밍업 느낌이다.)

## 📄 배운 내용

### *애자일 방법론의 개발에 따른 인프라 환경의 변화*

- 사용자가 요구하는 인프라를 즉각 제공하는 주요 기능은 유지
- 사용자마다 독립적인 환경에서 개발해도 모두 동일한 결과를 얻을 수 있어야 함
- 개발된 소프트웨어의 성능은 보장하며 인프라의 가용 리소스를 최대한 확보 해야함

→ 이런 요구 사항을 만족하는 **컨테이너 인프라 환경**을 알아보자!

# 컨테이너 인프라 환경

> 컨테이너를 중심으로 구성된 환경
>
- 컨테이너를 서비스 단위로 포장해 손쉽게 배포하고 확장 가능
- 컨테이너 인프라 환경에서 제공하는 컨테이너는 마이크로서비스 아키텍처의 서비스와 1:1 대응

### 컨테이너

> 하나의 운영 체제 커널에서 다른 프로세스에 영향을 받지 않고 독립적으로 실행되는 프로세스 상태
>
- 가상화 상태의 프로세스보다 더 빠르고 가볍게 동작함

---

인프라를 이용해 개발하는 서비스의 설계 부분인 ‘모놀리식 아키텍처’, ‘마이크로 서비스 아키텍처’를 알아보자

## 모놀리식 아키텍처

> 하나의 큰 목적이 있는 서비스, 애플리케이션에 여러 기능이 통합돼 있는 구조
>

**소프트웨어가 하나의 결합된 코드로 구성됨**

- 초기 단계에서 설계하기 용이하며 개발이 좀 더 단순하고 코드 관리가 간편
- 수정이 많을 경우, 수정에 연관된 다른 서비스도 수정을 할 가능성이 큼
    - 결합도가 높기 때문에..
- 기능이 추가되면 서비스 간의 관계가 복잡해질 수 있음

### 예시

***뉴스, 블로그, 웹툰, 결제 등의 서비스가 하나의 애플리케이션 안에 포함됨***

- 보안, DB 접속과 같은 설정을 공통으로 사용
    - 초기 개발 속도가 빨라짐

- 웹툰 서비스의 사용량이 증가하여 인프라를 증설해야 하는 경우에는?
    - *뉴스,  블로그, 결제 등*의 서비스가 포함된 애플리케이션까지 확장해야 함

- 특정 서비스를 수정하다, 에러가 발생한 경우
    - 해당 서비스 외의 **전체 서비스를 사용하지 못하는 상황**이 나타날 수 있음

→ 이러한 문제를 해결하기 위해 나온 것이 **마이크로서비스 아케텍처**

## 마이크로서비스 아키텍처

> 시스템 하나가 목적을 지향하며, 개별 기능을 하는 독립된 서비스를 구성하는 완결된 구조
>
- 서비스를 재사용하기 쉬움
- 서비스가 변경되었을 때 다른 서비스에 영향을 미칠 가능성이 줄어듬
    - *ex) 특정 서비스만 확장 가능*
- 각 서비스가 서로 유기적으로 통신하는 구조로 설계됨
    - 모놀리식 아키텍처보다 복잡도가 높음
    - 네트워크를 통한 호출 횟수가 증가함 → (성능에 영향)

### 예시

***뉴스, 블로그, 웹툰, 결제 등의 서비스가 각 각 관련 기능을 가진 서비스와 DB를 독립적으로 가짐***

*각 서비스는 api 게이트웨이와 rest api를 이용한 통신 방식으로 사용자의 요청을 전달*

- 서비스 개수가 고정된 것이 아님
    - 어떤 서비스가 등록돼 있는지 알기 위해 **서비스 디스커버리** 사용

- 수많은 서비스의 내부 통신을 **이벤트로 일원화** 함
    - **이벤트 버스**를 서비스로 구성하여 이를 관리

- 각 서비스는 **독립적**으로 동작할 수 있는 **완결**된 구조
    - 이미 개발된 기능이 다른 서비스에 필요하다면 바로 **재사용** 가능

---